# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

## üìã –û–±–∑–æ—Ä —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –î–ª—è —Å–ø–∏–∫–µ—Ä–∞ (Speaker):
1. ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –≤ —Å–ø–∏—Å–∫–µ –∫–Ω–∏–≥
2. ‚úÖ –î–≤–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–µ: "–ó–∞–ø–∏—Å—å" –∏ "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å"
3. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–≤–æ–∏—Ö –∑–∞–ø–∏—Å–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (–≤—Å–µ/–æ–∑–≤—É—á–µ–Ω–Ω—ã–µ/–Ω–µ –æ–∑–≤—É—á–µ–Ω–Ω—ã–µ)
4. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

### –î–ª—è –∞–¥–º–∏–Ω–∞ (Admin):
1. ‚úÖ –ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Books
2. ‚úÖ –í—ã–±–æ—Ä –¥–∏–∫—Ç–æ—Ä–∞ –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ)
3. ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∑–∞–ø–∏—Å–µ–π
4. ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üóÑÔ∏è –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î

### –¢–∞–±–ª–∏—Ü—ã:
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (admin/speaker)
- `categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–Ω–∏–≥
- `books` - –∫–Ω–∏–≥–∏
- `chunks` - —á–∞—Å—Ç–∏ –∫–Ω–∏–≥
- `recordings` - –∑–∞–ø–∏—Å–∏ (chunk_id, speaker_id, audio_file_path, duration)
- `book_speaker_assignments` - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–Ω–∏–≥ —Å–ø–∏–∫–µ—Ä–∞–º

### –°–≤—è–∑–∏:
- Book ‚Üí Category (many-to-one)
- Book ‚Üí Chunks (one-to-many)
- Book ‚Üî User (many-to-many —á–µ—Ä–µ–∑ book_speaker_assignments)
- Chunk ‚Üí Recordings (one-to-many)
- User ‚Üí Recordings (one-to-many)

---

## üîç –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### –î–ª—è —Å–ø–∏–∫–µ—Ä–∞:
- `GET /api/v1/assignments/my-books` - –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏
- `GET /api/v1/speakers/me/books/{book_id}` - –ø–æ–ª—É—á–∏—Ç—å –∫–Ω–∏–≥—É
- `GET /api/v1/speakers/me/books/{book_id}/chunks` - –ø–æ–ª—É—á–∏—Ç—å —á–∞–Ω–∫–∏ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º (all/recorded/not_recorded)
- `GET /api/v1/speakers/me/books/{book_id}/next-chunk` - –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –Ω–µ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–π —á–∞–Ω–∫
- `POST /api/v1/recordings/chunks/{chunk_id}/record` - –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–ø–∏—Å—å
- `GET /api/v1/recordings/chunks/{chunk_id}` - –ø–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –¥–ª—è —á–∞–Ω–∫–∞
- `GET /api/v1/recordings/{recording_id}` - –ø–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å—å –ø–æ ID

### –î–ª—è –∞–¥–º–∏–Ω–∞:
- `GET /api/v1/admin/books` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏ (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
- `GET /api/v1/admin/books/{book_id}` - –ø–æ–ª—É—á–∏—Ç—å –∫–Ω–∏–≥—É
- `GET /api/v1/admin/chunks` - –ø–æ–ª—É—á–∏—Ç—å —á–∞–Ω–∫–∏
- `GET /api/v1/recordings/chunks/{chunk_id}` - –ø–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –¥–ª—è —á–∞–Ω–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã:
1. ‚ùå –ù–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤ (–Ω—É–∂–µ–Ω –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è)
2. ‚ùå –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –¥–ª—è —Å–ø–∏–∫–µ—Ä–∞ –≤ `/assignments/my-books`
3. ‚ùå –ù–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π —Å–ø–∏–∫–µ—Ä–∞ –ø–æ –∫–Ω–∏–≥–µ
4. ‚ùå –ù–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–ê–ó–ê 1: Backend - –ù–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### 1.1. –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å `audio_file_path` —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞, –Ω–æ –Ω–µ—Ç —Å–ø–æ—Å–æ–±–∞ –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª.

**–†–µ—à–µ–Ω–∏–µ:**
```
GET /api/v1/recordings/{recording_id}/audio
```
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞—É–¥–∏–æ —Ñ–∞–π–ª (FileResponse)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (—Å–ø–∏–∫–µ—Ä –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏, –∞–¥–º–∏–Ω - –≤—Å–µ)
- –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª –∏–∑ `wavs/speaker_name/book_name_chunk_id.wav`

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `app/api/v1/routes/recordings.py` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç
- `app/services/recording_service.py` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_audio_file_path()`

---

#### 1.2. –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –¥–ª—è —Å–ø–∏–∫–µ—Ä–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** `/assignments/my-books` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.

**–†–µ—à–µ–Ω–∏–µ:**
```
GET /api/v1/assignments/my-books?category_id={category_id}
```

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `app/api/v1/routes/assignments_common.py` - –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `category_id`
- `app/services/book_assignment_service.py` - –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤ `get_user_with_books()`

---

#### 1.3. –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π —Å–ø–∏–∫–µ—Ä–∞ –ø–æ –∫–Ω–∏–≥–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Å–ø–∏–∫–µ—Ä–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–Ω–∏–≥–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ:**
```
GET /api/v1/speakers/me/books/{book_id}/recordings?filter=all|recorded|not_recorded&pageNumber=1&limit=50
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "items": [
    {
      "id": 1,
      "chunk_id": 5,
      "chunk_text": "–¢–µ–∫—Å—Ç —á–∞–Ω–∫–∞...",
      "chunk_order_index": 1,
      "audio_file_path": "wavs/speaker/book_5.wav",
      "duration": 12.5,
      "created_at": "2024-01-01T00:00:00Z"
    }
  ],
  "total": 100,
  "pageNumber": 1,
  "limit": 50
}
```

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `app/api/v1/routes/speakers.py` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç
- `app/services/recording_service.py` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_speaker_recordings_by_book()`
- `app/repositories/recording_repository.py` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_by_speaker_and_book()`
- `app/schemas/recording.py` - –¥–æ–±–∞–≤–∏—Ç—å `SpeakerRecordingResponse` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —á–∞–Ω–∫–µ

---

#### 1.4. –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–ø–∏–∫–µ—Ä–∞
**–†–µ—à–µ–Ω–∏–µ:**
```
GET /api/v1/speakers/me/statistics?period=day|week|month|custom&start_date=2024-01-01&end_date=2024-01-31
GET /api/v1/speakers/me/statistics/by-book?book_id={book_id}
GET /api/v1/speakers/me/statistics/by-category?category_id={category_id}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "total_duration_hours": 12.5,
  "total_recordings": 150,
  "by_period": [
    {
      "date": "2024-01-01",
      "duration_hours": 2.5,
      "recordings_count": 30
    }
  ],
  "by_book": [
    {
      "book_id": 1,
      "book_title": "–ö–Ω–∏–≥–∞ 1",
      "duration_hours": 5.0,
      "recordings_count": 60
    }
  ],
  "by_category": [
    {
      "category_id": 1,
      "category_name": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è 1",
      "duration_hours": 8.0,
      "recordings_count": 100
    }
  ]
}
```

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `app/api/v1/routes/speakers.py` - –¥–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `app/services/statistics_service.py` - **–ù–û–í–´–ô –§–ê–ô–õ** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `app/repositories/recording_repository.py` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
- `app/schemas/statistics.py` - **–ù–û–í–´–ô –§–ê–ô–õ** - —Å—Ö–µ–º—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

#### 1.5. –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω–∞ - –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
**–†–µ—à–µ–Ω–∏–µ:**
```
GET /api/v1/admin/books/{book_id}/recordings?speaker_id={speaker_id}&pageNumber=1&limit=50
```

**–û—Ç–≤–µ—Ç:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–ø–∏–∫–µ—Ä—É, –Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–ø–∏–∫–µ—Ä–µ:
```json
{
  "items": [
    {
      "id": 1,
      "chunk_id": 5,
      "chunk_text": "–¢–µ–∫—Å—Ç —á–∞–Ω–∫–∞...",
      "chunk_order_index": 1,
      "speaker_id": 2,
      "speaker_username": "speaker1",
      "audio_file_path": "wavs/speaker1/book_5.wav",
      "duration": 12.5,
      "created_at": "2024-01-01T00:00:00Z"
    }
  ],
  "total": 100,
  "pageNumber": 1,
  "limit": 50,
  "speakers": [
    {"id": 1, "username": "speaker1"},
    {"id": 2, "username": "speaker2"}
  ]
}
```

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `app/api/v1/routes/books.py` - –¥–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç
- `app/services/recording_service.py` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_book_recordings_for_admin()`
- `app/repositories/recording_repository.py` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_by_book()`
- `app/schemas/recording.py` - –¥–æ–±–∞–≤–∏—Ç—å `AdminRecordingResponse`

---

#### 1.6. –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–¥–º–∏–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:**
```
GET /api/v1/admin/statistics?period=day|week|month|custom&start_date=2024-01-01&end_date=2024-01-31
GET /api/v1/admin/statistics/by-speaker?speaker_id={speaker_id}
GET /api/v1/admin/statistics/by-book?book_id={book_id}
GET /api/v1/admin/statistics/by-category?category_id={category_id}
```

**–û—Ç–≤–µ—Ç:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–ø–∏–∫–µ—Ä—É, –Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `app/api/v1/routes/statistics.py` - **–ù–û–í–´–ô –§–ê–ô–õ** - —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–¥–º–∏–Ω–∞
- `app/services/statistics_service.py` - —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–ª—è –∞–¥–º–∏–Ω–∞
- `app/schemas/statistics.py` - –¥–æ–±–∞–≤–∏—Ç—å —Å—Ö–µ–º—ã –¥–ª—è –∞–¥–º–∏–Ω–∞

---

### –§–ê–ó–ê 2: Frontend - –ù–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 2.1. –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –≤ SpeakerBooks
**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/pages/SpeakerBooks.tsx`
  - –î–æ–±–∞–≤–∏—Ç—å —Å–µ–ª–µ–∫—Ç —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
  - –ó–∞–≥—Ä—É–∂–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ API
  - –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–Ω–∏–≥

**–ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å:**
- `src/services/categories.ts` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `getCategories()`

---

#### 2.2. –î–≤–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–µ
**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/pages/SpeakerBooks.tsx`
  - –ó–∞–º–µ–Ω–∏—Ç—å –æ–¥–Ω—É –∫–Ω–æ–ø–∫—É "Start Recording" –Ω–∞ –¥–≤–µ:
    - "–ó–∞–ø–∏—Å—å" ‚Üí `/record/{bookId}` (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
    - "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å" ‚Üí `/books/{bookId}/recordings` (–Ω–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

---

#### 2.3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–ø–∏—Å–µ–π —Å–ø–∏–∫–µ—Ä–∞
**–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** `src/pages/SpeakerBookRecordings.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –¥–ª—è –∫–Ω–∏–≥–∏
- –§–∏–ª—å—Ç—Ä—ã: –≤—Å–µ / –æ–∑–≤—É—á–µ–Ω–Ω—ã–µ / –Ω–µ –æ–∑–≤—É—á–µ–Ω–Ω—ã–µ
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏:
  - –¢–µ–∫—Å—Ç —á–∞–Ω–∫–∞
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  - –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å)
  - Waveform –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `Waveform` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `RecordingCard` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏

**–†–æ—É—Ç–∏–Ω–≥:**
- `src/App.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç `/books/:bookId/recordings`

**–°–µ—Ä–≤–∏—Å—ã:**
- `src/services/speakers.ts` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `getMyBookRecordings()`
- `src/services/recordings.ts` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `getRecordingAudioUrl()`

---

#### 2.4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–ø–∏–∫–µ—Ä–∞
**–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** `src/pages/SpeakerStatistics.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞: –¥–µ–Ω—å / –Ω–µ–¥–µ–ª—è / –º–µ—Å—è—Ü / –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏:
  - –û–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—á–∞—Å—ã)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
- –ì—Ä–∞—Ñ–∏–∫–∏:
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º (–ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫)
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –∫–Ω–∏–≥–∞–º (—Å—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞)
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞)
- –¢–∞–±–ª–∏—Ü—ã —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `recharts` (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `StatisticsCard`, `DurationChart`, `BookChart`, `CategoryChart`

**–†–æ—É—Ç–∏–Ω–≥:**
- `src/App.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç `/statistics`
- `src/components/Layout.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É "Statistics" –≤ —Å–∞–π–¥–±–∞—Ä –¥–ª—è —Å–ø–∏–∫–µ—Ä–∞

**–°–µ—Ä–≤–∏—Å—ã:**
- `src/services/statistics.ts` - **–ù–û–í–´–ô –§–ê–ô–õ** - –≤—Å–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

#### 2.5. –°—Ç—Ä–∞–Ω–∏—Ü–∞ Books –¥–ª—è –∞–¥–º–∏–Ω–∞ - –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/pages/Books.tsx`
  - –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ü—Ä–æ—Å–ª—É—à–∞—Ç—å" –Ω–∞ –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–µ
  - –û—Ç–∫—Ä—ã–≤–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ:** `src/pages/AdminBookRecordings.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –¥–ª—è –∫–Ω–∏–≥–∏
- –§–∏–ª—å—Ç—Ä –ø–æ —Å–ø–∏–∫–µ—Ä—É (—Å–µ–ª–µ–∫—Ç —Å –¥–∏–∫—Ç–æ—Ä–∞–º–∏)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏:
  - –¢–µ–∫—Å—Ç —á–∞–Ω–∫–∞
  - –ò–º—è —Å–ø–∏–∫–µ—Ä–∞
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  - –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
  - Waveform

**–†–æ—É—Ç–∏–Ω–≥:**
- `src/App.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç `/admin/books/:bookId/recordings`

**–°–µ—Ä–≤–∏—Å—ã:**
- `src/services/books.ts` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `getBookRecordings()`

---

#### 2.6. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–¥–º–∏–Ω–∞
**–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** `src/pages/AdminStatistics.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ —Å–ø–∏–∫–µ—Ä–∞, –Ω–æ:
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
  - –§–∏–ª—å—Ç—Ä –ø–æ —Å–ø–∏–∫–µ—Ä—É
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø–∏–∫–µ—Ä–æ–≤
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–Ω–∏–≥–∞–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

**–†–æ—É—Ç–∏–Ω–≥:**
- `src/App.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç `/admin/statistics`
- `src/components/Layout.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É "Statistics" –≤ —Å–∞–π–¥–±–∞—Ä –¥–ª—è –∞–¥–º–∏–Ω–∞

---

### –§–ê–ó–ê 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 3.1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î:
  - `recordings.created_at` - –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - `recordings.speaker_id, recordings.chunk_id` - –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

#### 3.2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ä–µ–¥–∫–æ –º–µ–Ω—è—é—Ç—Å—è)
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–æ–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É)

#### 3.3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üìä –°—Ö–µ–º–∞ –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### –î–ª—è —Å–ø–∏–∫–µ—Ä–∞:
```
GET  /api/v1/assignments/my-books?category_id={id}          [–ò–ó–ú–ï–ù–ò–¢–¨]
GET  /api/v1/speakers/me/books/{book_id}/recordings         [–ù–û–í–´–ô]
GET  /api/v1/speakers/me/statistics                         [–ù–û–í–´–ô]
GET  /api/v1/speakers/me/statistics/by-book                 [–ù–û–í–´–ô]
GET  /api/v1/speakers/me/statistics/by-category             [–ù–û–í–´–ô]
GET  /api/v1/recordings/{recording_id}/audio                [–ù–û–í–´–ô]
```

### –î–ª—è –∞–¥–º–∏–Ω–∞:
```
GET  /api/v1/admin/books/{book_id}/recordings               [–ù–û–í–´–ô]
GET  /api/v1/admin/statistics                               [–ù–û–í–´–ô]
GET  /api/v1/admin/statistics/by-speaker                    [–ù–û–í–´–ô]
GET  /api/v1/admin/statistics/by-book                       [–ù–û–í–´–ô]
GET  /api/v1/admin/statistics/by-category                   [–ù–û–í–´–ô]
GET  /api/v1/recordings/{recording_id}/audio                [–û–ë–©–ò–ô]
```

---

## üéØ –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: Backend - –ë–∞–∑–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
1. ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
2. ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –¥–ª—è —Å–ø–∏–∫–µ—Ä–∞
3. ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π —Å–ø–∏–∫–µ—Ä–∞ –ø–æ –∫–Ω–∏–≥–µ

### –≠—Ç–∞–ø 2: Frontend - –ë–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
4. ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –≤ SpeakerBooks
5. ‚úÖ –î–≤–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–µ
6. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–ø–∏—Å–µ–π —Å–ø–∏–∫–µ—Ä–∞

### –≠—Ç–∞–ø 3: Backend - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
7. ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è —Å–ø–∏–∫–µ—Ä–∞
8. ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞

### –≠—Ç–∞–ø 4: Frontend - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
9. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–ø–∏–∫–µ—Ä–∞
10. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–¥–º–∏–Ω–∞

### –≠—Ç–∞–ø 5: Backend - –ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–∏
11. ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –∞–¥–º–∏–Ω–æ–º

### –≠—Ç–∞–ø 6: Frontend - –ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–∏
12. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –¥–ª—è –∞–¥–º–∏–Ω–∞

### –≠—Ç–∞–ø 7: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
13. ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –≤ –ë–î
14. ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
15. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## ‚ùì –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è

1. **–§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**
   - –ù—É–∂–Ω—ã –ª–∏ –≥—Ä–∞—Ñ–∏–∫–∏ –∏–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–∞–±–ª–∏—Ü?
   - –ö–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –º–µ—Ç—Ä–∏–∫–∏ –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ?

2. **–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π:**
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞?
   - –ù—É–∂–Ω–∞ –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∏–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏?

3. **–§–∏–ª—å—Ç—Ä—ã:**
   - –ù—É–∂–Ω–∞ –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞—Ç–µ–≥–æ—Ä–∏—è + —Å—Ç–∞—Ç—É—Å –∑–∞–ø–∏—Å–∏)?

4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
   - –ù—É–∂–Ω–∞ –ª–∏ —ç–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (CSV, PDF)?

5. **–ê—É–¥–∏–æ —Ñ–∞–π–ª—ã:**
   - –ù—É–∂–Ω–∞ –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ –¥—Ä—É–≥–∏—Ö —Å–ø–∏–∫–µ—Ä–æ–≤ (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)?

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û–±—Å—É–¥–∏—Ç—å –ø–ª–∞–Ω –∏ —É—Ç–æ—á–Ω–∏—Ç—å –¥–µ—Ç–∞–ª–∏
2. –ù–∞—á–∞—Ç—å —Å –≠—Ç–∞–ø–∞ 1 (Backend - –ë–∞–∑–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
3. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç—Ç–∞–ø—ã
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–π

